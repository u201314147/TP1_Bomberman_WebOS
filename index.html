<!DOCTYPE html>
<html>
<head>
  
 <script src="Logic/jquery-1.11.0.min.js"></script>
     <script src="Phaser/phaser-arcade-physics.min.js"></script>
     

</head>
<body>
<!--<input type="text" id="myText"/>-->
<!--<textarea id="area51">SOME TEXT HERE</textarea>-->
    <script>


class Scene1 extends Phaser.Scene {


   constructor() {
        super('Scene1');
    }

    init(data)
    {
        this.gamemodeData = data.gamemode;
        this.jugadoresData = data.jugadores;
        this.musicData = data.music;
    }

 preload ()
{
    this.colocarBomba = 0;

    this.jugadoresTotal =  this.jugadoresData;
    this.cooldownP1 = 0;
    this.cooldownP2 = 0;
    this.cooldownP3 = 0;
    this.cooldownP4 = 0;

      this.activarEsperaInt = 0;

     this.cooldownP1tick = 0;
    this.cooldownP2tick = 0;
    this.cooldownP3tick = 0;
    this.cooldownP4tick = 0;
    
    this.menureiniciar = 0;
    this.bombas = 1;
     this.bombas2 = 1;
      this.bombas3 = 1;
       this.bombas4 = 1;
    this.patin = 10;
    this.patin2 = 10;
    this.patin3 = 10;
    this.patin4 = 10;
      this.CrearObjeto = 1;
    this.CrearX = 0;
     this.CrearY = 0;
     this.limpiarLlama = 50;
        this.llama = 2;
        this.llama2 = 2;
        this.llama3 = 2;
        this.llama4 = 2;
        this.countExplosion = 30;
        this.countExplosion2 = 30;
        this.countExplosion3 = 30;
        this.countExplosion4 = 30;
        this.countBomb = 0;
        this.countBomb2 = 0;
        this.countBomb3 = 0;
        this.countBomb4 = 0;
        this.myShip = null;
        this.bombbutton = null;
        this.scoreInt = 0;
        this.vidasInt = 3;
        this.vidasInt2 = 0;
        this.vidasInt3 = 0;
        this.vidasInt4 = 0;
        this.player = null;
        this.cursor = null;
        this.bullet = null;
        this.brick = null;
        this.playerBulletLive = false;
        this.playerDirection = 'up';
         this.load.setBaseURL('http://labs.phaser.io');
  this.load.setBaseURL('https://i.ibb.co');


     /*this.load.image('bg', 'img/jugador.png');
  this.load.image('wall', 'img/wall.png');
   this.load.image('wall2', 'img/wall2.png');

   this.load.image('enemigo',  'img/enemigo.png');
   this.load.image('ship',  'img/jugador.png');
      this.load.image('ship2',  'img/jugador2.png');
         this.load.image('ship3',  'img/jugador3.png');
            this.load.image('ship4',  'img/jugador4.png');
   this.load.image('vida',  'img/vida.png');
      this.load.image('bomba',  'img/bomba.png');
   this.load.image('explosion',  'img/explosion.png');
    this.load.image('poderllama',  'img/poderllama.png');
      this.load.image('poderbomba',  'img/poderbomba.png');
   this.load.image('poderpatin',  'img/poderpatin.png');
    this.load.image('podervida',  'img/podervida.png');
  this.load.image('kills',  'img/kills.png');
 this.load.image('mina',  'img/mina.png');


this.load.image('wall3', 'img/wall3.png');
this.load.image('wallkill','img/wallkill.png')
this.load.image('pisor1', 'img/pisor1.png');
this.load.image('pisor2', 'img/pisor2.png');
 this.load.image('pisomov', 'img/pisomov.png');



           this.load.image('bg', 'img/jugador.png');
           
           this.load.image('menupause', 'img/menupause.png');
             this.load.image('menupause2', 'img/menupause2.png');
          this.load.image('menupause3', 'img/menupause3.png');
            this.load.image('votacionmenu', 'img/votacionmenu.png');
             this.load.image('votacionmenuP1', 'img/votacionmenuP1.png');
               this.load.image('votacionmenuP2', 'img/votacionmenuP2.png');
                this.load.image('votacionmenuP3', 'img/votacionmenuP3.png');
            this.load.image('votacionmenuP4', 'img/votacionmenuP4.png');
            
              this.load.image('poderguante', 'img/poderguante.png');
            */

  this.load.image('wall', 'd5yWhk2/wall.png');
   this.load.image('wall2', 'WykRp6s/wall2.png');
   this.load.image('enemigo',  'Dttg5JP/enemigo.png');
   this.load.image('ship',  'zHXszCm/jugador.png');
    this.load.image('ship2',  'rx8gpR4/jugador2.png');
         this.load.image('ship3',  'crwxgCm/jugador3.png');
            this.load.image('ship4',  'zSp6CKm/jugador4.png');
   this.load.image('vida',  'S0Dhc2Z/vida.png');
      this.load.image('bomba',  'VJDn315/bomba.png');
   this.load.image('explosion',  'qdWNxpn/explosion.png');
    this.load.image('poderllama',  'XYxjxYy/poderllama.png');
      this.load.image('poderbomba',  '7YWC3kM/poderbomba.png');
   this.load.image('poderpatin',  'pXpHRBL/poderpatin.png');
  this.load.image('kills',  'MVSVd2P/kills.png');
 this.load.image('mina',  '4WXR4mF/mina.png');
this.load.image('wall3', 'YyVVxpW/wall3.png');
this.load.image('wallkill','QrNLy82/wallkill.png')
this.load.image('pisor1', '1s6rsTH/pisor1.png');
this.load.image('pisor2', 'Mhy1S9p/pisor2.png');
 this.load.image('pisomov', '3FC2hVL/pisomov.png');


 this.load.image('podervida', 'bFFHbrq/podervida.png');

  this.load.image('menupause', '4NvvMm4/menupause.png');
    this.load.image('menupause2', 'nzQMWQ7/menupause2.png');
          this.load.image('menupause3', 'xCkh003/menupause3.png');
            this.load.image('votacionmenu', 'mGBKC5b/votacionmenu.png');
             this.load.image('votacionmenuP1', 'Ybc90MG/votacionmenu-P1.png');
               this.load.image('votacionmenuP2', 'fNx0yqf/votacionmenu-P2.png');
                this.load.image('votacionmenuP3', '3Ryv5qw/votacionmenu-P3.png');
            this.load.image('votacionmenuP4', 'jJG4gpC/votacionmenu-P4.png');
            
              this.load.image('poderguante', 'WFgXwvR/poderguante.png');
}

create()
{
   this.gamemode = this.gamemodeData;

this.menuseleccion = 1;
this.aceptarP1 = 0;
this.aceptarP2 = 0;
this.aceptarP3 = 0;
this.aceptarP4 = 0;

this.guanteP1 =0;
this.guanteP2 =0;
this.guanteP3 =0;
this.guanteP4 =0;

this.pause = 0;
     this.caerparedX =-2;
 this.caerparedY = 1;

this.tick1 = 0;
    this.nivelInt = 1;
this.relojInt = 300;
    this.resbalar = 0;
    this.resbalar2 = 0;
    this.resbalar3 = 0;
    this.resbalar4 = 0;
   this.pisor2X = 0;
   this.pisor2Y = 0;
  this.scoreInt = 0;
   //  this.bomba = this.physics.add.sprite(-50,-50, 'bomba');
    this.countBomb = 0;
     this.countBomb2 = 0;
      this.countBomb3 = 0;
       this.countBomb4 = 0;
    this.countExplosion =0;
      this.countExplosion2 =0;
      this.countExplosion3 =0;
      this.countExplosion4 =0;
     
//sprites de puntuacion

//jugadores
if(this.jugadoresTotal >=1)
{
    this.jugador1 = this.add.text(32+32, 216+96, 'Jugador1', { fontFamily: '"Arial Black"' });

this.jugador1.setFontSize(32);
}
if(this.jugadoresTotal >=2)
{
    this.jugador2 = this.add.text(32+32, 366+96, 'Jugador2', { fontFamily: '"Arial Black"' });
this.jugador2.setFontSize(32);
        this.vidasInt2 = 3;

}

if(this.jugadoresTotal >=3)
{
    this.jugador3 = this.add.text(32+32, 516+96, 'Jugador3', { fontFamily: '"Arial Black"' });
this.jugador3.setFontSize(32);
        this.vidasInt3 = 3;

}
if(this.jugadoresTotal >=4)
{
    this.jugador4 = this.add.text(32+32, 666+96, 'Jugador4', { fontFamily: '"Arial Black"' });
this.jugador4.setFontSize(32);
        this.vidasInt4 = 3;

}


     this.vida = this.physics.add.sprite(92, 336+48, 'vida');

       this.kill = this.physics.add.sprite(92, 336+96, 'kills');

if(this.jugadoresTotal >=2)
{
       //jugador 2

          this.vida = this.physics.add.sprite(92, 486+48, 'vida');
if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 486+96, 'kills');
}

if(this.jugadoresTotal >=3)
{
          //jugador 3

          this.vida = this.physics.add.sprite(92, 636+48, 'vida');
if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 636+96, 'kills');
}
            //jugador 4

if(this.jugadoresTotal >=4)
{
          this.vida = this.physics.add.sprite(92, 786+48, 'vida');

if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 786+96, 'kills');
}
     this.minas = this.physics.add.group();


if(this.gamemode==0)
{
this.nivel = this.add.text(64, 32, 'Nivel', { fontFamily: '"Arial Black"' });
this.nivel.setFontSize(32);


this.nivel = this.add.text(64, 64, this.nivelInt, { fontFamily: '"Arial Black"' });
this.nivel.setFontSize(32);
}


this.vidas = this.add.text(120, 345, this.vidasInt, { fontFamily: '"Arial Black"' });
this.vidas.setFontSize(64);

if(this.jugadoresTotal >=2)
{
this.vidasJ2 = this.add.text(120, 495, this.vidasInt2, { fontFamily: '"Arial Black"' });
this.vidasJ2.setFontSize(64);
}

if(this.jugadoresTotal >=3)
{
this.vidasJ3 = this.add.text(120, 645, this.vidasInt3, { fontFamily: '"Arial Black"' });
this.vidasJ3.setFontSize(64);
}

if(this.jugadoresTotal >=4)
{
this.vidasJ4 = this.add.text(120, 795, this.vidasInt4, { fontFamily: '"Arial Black"' });
this.vidasJ4.setFontSize(64);
}

     this.cursors = this.input.keyboard.createCursorKeys();
    this.bombbutton = this.input.keyboard.addKey('X');

     this.guantebutton1 = this.input.keyboard.addKey('Z');
    this.guantebutton2 = this.input.keyboard.addKey('N');
    this.guantebutton3 = this.input.keyboard.addKey('M');
    this.guantebutton4 = this.input.keyboard.addKey('0');

     this.pausebutton = this.input.keyboard.addKey('Q');
     
      this.upjugador2 = this.input.keyboard.addKey('W');    
      this.downjugador2 = this.input.keyboard.addKey('S');    
      this.leftjugador2 = this.input.keyboard.addKey('A');  
      this.rightjugador2 = this.input.keyboard.addKey('D');
     

      this.upjugador3 = this.input.keyboard.addKey('T');    
      this.downjugador3 = this.input.keyboard.addKey('G');    
      this.leftjugador3 = this.input.keyboard.addKey('F');  
      this.rightjugador3 = this.input.keyboard.addKey('H');
     

      this.upjugador4 = this.input.keyboard.addKey('I');    
      this.downjugador4 = this.input.keyboard.addKey('K');    
      this.leftjugador4 = this.input.keyboard.addKey('J');  
      this.rightjugador4 = this.input.keyboard.addKey('L');
     



      // this.myShip = new Ship(this, 400, 500);

        this.myShip = this.physics.add.sprite(420, 130, 'ship');
this.myShip2 = this.physics.add.sprite(5000, 130, 'ship2');
this.myShip3 = this.physics.add.sprite(5000, 130, 'ship3');
this.myShip4 = this.physics.add.sprite(5000, 130, 'ship4');

if(this.jugadoresTotal >=2)
{
   this.myShip2 = this.physics.add.sprite(1820, 130, 'ship2');
}

if(this.jugadoresTotal >=3)
{
      this.myShip3 = this.physics.add.sprite(420, 885, 'ship3');
}
if(this.jugadoresTotal >=4)
{
         this.myShip4 = this.physics.add.sprite(1820, 885, 'ship4');
}

if(this.gamemode == 0)
{
this.txt = this.add.text(64, 196, 'Puntaje', { fontFamily: '"Arial Black"' });
this.txt.setFontSize(32);

this.score = this.add.text(64, 226, this.scoreInt, { fontFamily: '"Arial Black"' });
this.score.setFontSize(64);
}

if(this.gamemode == 1 ||this.gamemode == 2)
{

this.score = this.add.text(-500, -500, this.scoreInt, { fontFamily: '"Arial Black"' });
this.score.setFontSize(64);

}
  this.tiempo = this.add.text(64, 96, 'Tiempo', { fontFamily: '"Arial Black"' });
this.tiempo.setFontSize(32);

   this.reloj = this.add.text(64, 128, this.relojInt, { fontFamily: '"Arial Black"' });
this.reloj.setFontSize(64);



   


 this.myShip.setCollideWorldBounds(true);
 this.myShip2.setCollideWorldBounds(true);
 this.myShip3.setCollideWorldBounds(true);
 this.myShip4.setCollideWorldBounds(true);

 this.bombasFull = this.physics.add.staticGroup();
 
this.bombasFull2 = this.physics.add.staticGroup();
 this.bombasFull3 = this.physics.add.staticGroup();
 this.bombasFull4 = this.physics.add.staticGroup();
 
this.enemigos = this.physics.add.group();

       this.explosionUp = this.physics.add.group();
       this.explosionDown = this.physics.add.group();
       this.explosionLeft = this.physics.add.group();
       this.explosionRight = this.physics.add.group();

  this.explosionUp2 = this.physics.add.group();
       this.explosionDown2 = this.physics.add.group();
       this.explosionLeft2 = this.physics.add.group();
       this.explosionRight2 = this.physics.add.group();

 this.explosionUp3 = this.physics.add.group();
       this.explosionDown3 = this.physics.add.group();
       this.explosionLeft3 = this.physics.add.group();
       this.explosionRight3 = this.physics.add.group();

 this.explosionUp4 = this.physics.add.group();
       this.explosionDown4 = this.physics.add.group();
       this.explosionLeft4 = this.physics.add.group();
       this.explosionRight4 = this.physics.add.group();



         this.box = this.physics.add.staticGroup();
         this.pisor1 = this.physics.add.staticGroup();
          this.pisor2 = this.physics.add.staticGroup();
           this.pisomov = this.physics.add.staticGroup();
        this.boxFuerte = this.physics.add.staticGroup();
        this.boxFuerte2 = this.physics.add.staticGroup();
        
         this.boxFuerteSprite = this.physics.add.staticGroup();
        
         this.powerups = this.physics.add.staticGroup();
        this.powerupsLlamas = this.physics.add.staticGroup();
   this.powerupsPatin = this.physics.add.staticGroup();
   this.powerupsBombas = this.physics.add.staticGroup();
 this.powerupsVidas = this.physics.add.staticGroup();
 this.powerupsGuantes = this.physics.add.staticGroup();

 this.wallkill = this.physics.add.staticGroup();

//random
  /*   for (var i = 0; i < 600; i++)
    {

        var x = Phaser.Math.Between(0, (1920 - 32*18)/32 );
        var y = Phaser.Math.Between(0, (1080 - 32*6)/32);
         var item = Phaser.Math.Between(0,5);

     if(item ==1)
     this.powerupsLlamas.create(480+ x*32,  64 + y*32, 'poderllama');
    if(item ==2)
     this.powerupsPatin.create(480+ x*32,  64 + y*32, 'poderpatin');
    if(item ==3)
     this.powerupsBombas.create(480+ x*32,  64 + y*32, 'poderbomba');
   if(item ==4)
     this.boxFuerte.create(480+ x*32,  64 + y*32, 'wall2');
   
    if(item !=4)
        this.box.create(480+ x*32, 64 + y*32, 'wall');

     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();


     }
*/

//Modo no aleatorio

    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if((i > -2 && i < 1 && j > 0 && j < 3) || (i > 19 && i < 22 && j > 0 && j < 3)
            || (i > -2 && i < 1 && j > 11 && j < 14) || (i > 19 && i < 22 && j > 11 && j < 14))
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
        if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');

     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();

     }
 }
 }





for (var i = 1; i < 15; i++)
    {
     this.boxFuerte2.create(12*32-32-32 + 32, 32 + i*64, 'wall3');
 this.boxFuerte2.create(12*32-32-32 -32, 32 + i*64, 'wall3');
}
for (var i = 1; i < 15; i++)
    {
     this.boxFuerte2.create(1920-64 + 32, 32 + i*64, 'wall3');
       this.boxFuerte2.create(1920-64 + 32 + 64, 32 + i*64, 'wall3');
}

for (var i = -3; i < 25; i++)
    {
     this.boxFuerte2.create(12*32 + 64*i, 32 + 32, 'wall3');
      this.boxFuerte2.create(12*32 + 64*i, 32-32, 'wall3');
}
for (var i = -3; i < 25; i++)
    {
    this.boxFuerte2.create(12*32 + 64*i, 896+ 32 + 32, 'wall3');
    this.boxFuerte2.create(12*32 + 64*i, 896+ 32 + 32+64, 'wall3');
 }


for (var i = 2; i < 15; i++)
    {
     this.boxFuerteSprite.create(12*32-32-32 + 32,  i*64, 'wall2');
}
for (var i = 2; i < 15; i++)
    {
     this.boxFuerteSprite.create(1920-64 + 32, i*64, 'wall2');
}

for (var i = 0; i < 25; i++)
    {
     this.boxFuerteSprite.create(11*32 + 64*i, 32 + 32, 'wall2');
 }
for (var i = 0; i < 25; i++)
    {
    this.boxFuerteSprite.create(11*32 + 64*i, 896+ 32 + 32, 'wall2');
}


  this.killsInt = this.enemigos.getLength();
   this.killsInt2 = 0;
   this.killsInt3 = 0;
   this.killsInt4 = 0;

   this.kills = this.add.text(92+32, 306+96, this.killsInt, { fontFamily: '"Arial Black"' });
this.kills.setFontSize(64);

if(this.jugadoresTotal >=2 && (this.gamemode == 1 || this.gamemode == 2))
{
 this.killsJ2 = this.add.text(92+32, 456+96, this.killsInt2, { fontFamily: '"Arial Black"' });
this.killsJ2.setFontSize(64);
}
if(this.jugadoresTotal >=3 && (this.gamemode == 1 || this.gamemode == 2))
{
this.killsJ3 = this.add.text(92+32, 606+96, this.killsInt3, { fontFamily: '"Arial Black"' });
this.killsJ3.setFontSize(64);
}
if(this.jugadoresTotal >=4 && (this.gamemode == 1 || this.gamemode == 2))
{
this.killsJ4= this.add.text(92+32, 756+96, this.killsInt4, { fontFamily: '"Arial Black"' });
this.killsJ4.setFontSize(64);
}
   this.physics.add.collider(this.myShip, this.box);

 this.physics.add.collider(this.myShip2, this.box);

 this.physics.add.collider(this.myShip3, this.box);
this.physics.add.collider(this.myShip4, this.box);


   function pisoMovPasar()
   {
    this.resbalar = 1;

   }

   function pisoMovPasar2()
   {
    this.resbalar2 = 1;

   }

   function pisoMovPasar3()
   {
    this.resbalar3 = 1;

   }
   function pisoMovPasar4()
   {
    this.resbalar4 = 1;

   }
   this.physics.add.overlap(this.myShip, this.pisomov, pisoMovPasar, function(col1,col2){

   },this);
    this.physics.add.overlap(this.myShip2, this.pisomov, pisoMovPasar2, function(col1,col2){

   },this);
     this.physics.add.overlap(this.myShip3, this.pisomov, pisoMovPasar3, function(col1,col2){

   },this);
      this.physics.add.overlap(this.myShip4, this.pisomov, pisoMovPasar4, function(col1,col2){

   },this);


this.physics.add.overlap(this.myShip, this.explosionUp,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp2,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp3,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp4,bajarvidas, function(col1,col2){
   },this);

//puntuacion
this.physics.add.collider(this.myShip, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip, this.explosionDown, bajarvidas,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionDown2, bajarvidas,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionDown3, bajarvidas,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionDown4, bajarvidas,function(col1,col2){
   },this);

      //puntuacion
        this.physics.add.collider(this.myShip, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip, this.explosionLeft,bajarvidas, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionLeft2,bajarvidas, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionLeft3,bajarvidas, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionLeft4,bajarvidas, function(col1,col2){
   },this);
   
  //puntuacion
     this.physics.add.collider(this.myShip, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);

   this.physics.add.overlap(this.myShip, this.explosionRight,bajarvidas, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionRight2,bajarvidas, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionRight3,bajarvidas, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionRight4,bajarvidas, function(col1,col2){
   },this);
   
   //puntuacion

     this.physics.add.collider(this.myShip, this.explosionRight2,aumentarScore2, function(col1,col2){

   },this);
     this.physics.add.collider(this.myShip, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);

   this.physics.add.collider(this.myShip,this.wallkill);
   this.physics.add.overlap(this.myShip,this.wallkill,bajarvidas, function(col1,col2){

   },this);
   

   //jugador2

this.physics.add.overlap(this.myShip2, this.explosionUp,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp2,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp3,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp4,bajarvidas2, function(col1,col2){
   },this);

//puntuacion


this.physics.add.collider(this.myShip2, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip2, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip2, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip2, this.explosionDown, bajarvidas2,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionDown2, bajarvidas2,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionDown3, bajarvidas2,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionDown4, bajarvidas2,function(col1,col2){
   },this);

      //puntuacion

   this.physics.add.collider(this.myShip2, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip2, this.explosionLeft,bajarvidas2, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionLeft2,bajarvidas2, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionLeft3,bajarvidas2, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionLeft4,bajarvidas2, function(col1,col2){
   },this);
   

   //puntacion


   this.physics.add.collider(this.myShip2, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);
   
  
   this.physics.add.overlap(this.myShip2, this.explosionRight,bajarvidas2, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionRight2,bajarvidas2, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionRight3,bajarvidas2, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionRight4,bajarvidas2, function(col1,col2){
   },this);

      //puntuacion


   this.physics.add.collider(this.myShip2, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);

   
   
   this.physics.add.collider(this.myShip2,this.wallkill);

   this.physics.add.overlap(this.myShip2,this.wallkill,bajarvidas2, function(col1,col2){

   },this);
   
    //jugador3


this.physics.add.overlap(this.myShip3, this.explosionUp,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp2,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp3,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp4,bajarvidas3, function(col1,col2){
   },this);

//puntacion


this.physics.add.collider(this.myShip3, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip3, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip3, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip3, this.explosionDown, bajarvidas3,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionDown2, bajarvidas3,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionDown3, bajarvidas3,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionDown4, bajarvidas3,function(col1,col2){
   },this);

      //Puntacion


   this.physics.add.collider(this.myShip3, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip3, this.explosionLeft,bajarvidas3, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionLeft2,bajarvidas3, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionLeft3,bajarvidas3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionLeft4,bajarvidas3, function(col1,col2){
   },this);
   
   //puntacion
 
   this.physics.add.collider(this.myShip3, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);
   


   this.physics.add.overlap(this.myShip3, this.explosionRight,bajarvidas3, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionRight2,bajarvidas3, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionRight3,bajarvidas3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionRight4,bajarvidas3, function(col1,col2){
   },this);

      //puntacion


   this.physics.add.collider(this.myShip3, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionRight2,aumentarScore2, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);

 this.physics.add.collider(this.myShip3,this.wallkill);

   this.physics.add.overlap(this.myShip3,this.wallkill,bajarvidas3, function(col1,col2){

   },this);
   

    //jugador4


this.physics.add.overlap(this.myShip4, this.explosionUp,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp2,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp3,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp4,bajarvidas4, function(col1,col2){
   },this);

//puntuacion



this.physics.add.collider(this.myShip4, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip4, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip4, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip4, this.explosionDown, bajarvidas4,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionDown2, bajarvidas4,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionDown3, bajarvidas4,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionDown4, bajarvidas4,function(col1,col2){
   },this);

      //Puntuacion


   this.physics.add.collider(this.myShip4, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip4, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip4, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip4, this.explosionLeft,bajarvidas4, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionLeft2,bajarvidas4, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionLeft3,bajarvidas4, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionLeft4,bajarvidas4, function(col1,col2){
   },this);
   
   //Puntuacion


   
   this.physics.add.collider(this.myShip4, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip4, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip4, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
  
   


   this.physics.add.overlap(this.myShip4, this.explosionRight,bajarvidas4, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionRight2,bajarvidas4, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionRight3,bajarvidas4, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionRight4,bajarvidas4, function(col1,col2){
   },this);

//puntuacion 



   this.physics.add.collider(this.myShip4, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip4, this.explosionRight2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip4, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
 

 this.physics.add.collider(this.myShip4,this.wallkill);

   this.physics.add.overlap(this.myShip4,this.wallkill,bajarvidas4, function(col1,col2){

   },this);





    this.physics.add.collider(this.enemigos,this.wallkill);

   this.physics.add.overlap(this.enemigos,this.wallkill, aumentarScore, function(col1,col2){
    col1.destroy();
   },this);
   
this.physics.add.collider(this.myShip,this.bombasFull);
this.physics.add.collider(this.myShip,this.bombasFull2);
this.physics.add.collider(this.myShip,this.bombasFull3);
this.physics.add.collider(this.myShip,this.bombasFull4);


this.physics.add.collider(this.myShip2,this.bombasFull);
this.physics.add.collider(this.myShip2,this.bombasFull2);
this.physics.add.collider(this.myShip2,this.bombasFull3);
this.physics.add.collider(this.myShip2,this.bombasFull4);


this.physics.add.collider(this.myShip3,this.bombasFull);
this.physics.add.collider(this.myShip3,this.bombasFull2);
this.physics.add.collider(this.myShip3,this.bombasFull3);
this.physics.add.collider(this.myShip3,this.bombasFull4);

this.physics.add.collider(this.myShip4,this.bombasFull);
this.physics.add.collider(this.myShip4,this.bombasFull2);
this.physics.add.collider(this.myShip4,this.bombasFull3);
this.physics.add.collider(this.myShip4,this.bombasFull4);

this.physics.add.collider(this.enemigos,this.bombasFull);
this.physics.add.collider(this.enemigos,this.bombasFull2);
this.physics.add.collider(this.enemigos,this.bombasFull3);
this.physics.add.collider(this.enemigos,this.bombasFull4);
this.physics.add.collider(this.enemigos,this.pisor2);

   this.physics.add.collider(this.myShip, this.boxFuerte);
 this.physics.add.collider(this.myShip, this.boxFuerte2);
  this.physics.add.collider(this.myShip, this.pisor2);

  this.physics.add.collider(this.myShip2, this.boxFuerte);
 this.physics.add.collider(this.myShip2, this.boxFuerte2);
  this.physics.add.collider(this.myShip2, this.pisor2);


  this.physics.add.collider(this.myShip3, this.boxFuerte);
 this.physics.add.collider(this.myShip3, this.boxFuerte2);
  this.physics.add.collider(this.myShip3, this.pisor2);

  this.physics.add.collider(this.myShip4, this.boxFuerte);
 this.physics.add.collider(this.myShip4, this.boxFuerte2);
  this.physics.add.collider(this.myShip4, this.pisor2);
 
 
   this.physics.add.collider(this.boxFuerte,this.powerups,function(col1,col2)
    {
        col2.destroy();
    });


    this.physics.add.collider(this.explosionUp,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

function crearpisor2()
{
    this.pisor2.create(this.pisor2X, this.pisor2Y,'pisor2');
}

  //colision rompible 1
   this.physics.add.collider(this.explosionUp,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);

//colision rompible 2
   this.physics.add.collider(this.explosionUp2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown2,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);


//colision rompible 3
   this.physics.add.collider(this.explosionUp3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown3,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);

//colision rompible 4
   this.physics.add.collider(this.explosionUp4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown4,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);



//COLISION CON ENEMIGOS
 this.physics.add.collider(this.enemigos,this.boxFuerte, function(col1,col2){

   });

this.physics.add.collider(this.enemigos,this.boxFuerte2, function(col1,col2){

   });

 this.physics.add.collider(this.enemigos,this.box, function(col1,col2){

   });

this.physics.add.collider(this.enemigos,this.explosionUp,aumentarScore, function(col1,col2){
      col1.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown, aumentarScore, function(col1,col2){
    col1.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

//2

this.physics.add.collider(this.enemigos,this.explosionUp2,aumentarScore, function(col1,col2){
      col1.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown2, aumentarScore, function(col1,col2){
    col1.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft2, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight2, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

//3

this.physics.add.collider(this.enemigos,this.explosionUp3,aumentarScore, function(col1,col2){
      col1.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown3, aumentarScore, function(col1,col2){
    col1.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft3, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight3, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);


//4

this.physics.add.collider(this.enemigos,this.explosionUp4,aumentarScore, function(col1,col2){
      col1.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown4, aumentarScore, function(col1,col2){
    col1.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft4, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight4, aumentarScore, function(col1,col2){
    col1.destroy();

   },this);

function bajarvidas2()
{
if(this.cooldownP2 ==0)
    {
         this.cooldownP2 =1;
        this.cooldownP2tick=300;

     if(this.vidasInt2 <= 1)
   {
    this.vidasInt2 = this.vidasInt2 - 1;
        this.vidasJ2.setText(this.vidasInt2);    

     this.myShip2.x = 10000;
   this.myShip2.y = 10000;
   }
   else
   {
    this.vidasInt2 = this.vidasInt2 - 1;
    this.vidasJ2.setText(this.vidasInt2);    

if(this.relojInt > 0)
  {
   this.myShip2.x = 1820;
   this.myShip2.y = 130;
 }
    }
}
}

function bajarvidas3()
{
    if(this.cooldownP3 ==0)
    {
 this.cooldownP3 =1;
        this.cooldownP3tick=300;

       if(this.vidasInt3 <= 1)
   {
    this.vidasInt3 = this.vidasInt3 - 1;
        this.vidasJ3.setText(this.vidasInt3); 

         this.myShip3.x = 10000;
   this.myShip3.y = 10000;
}
else
{
this.vidasInt3 = this.vidasInt3 - 1;
    this.vidasJ3.setText(this.vidasInt3); 
 
if(this.relojInt > 0)
  {
   this.myShip3.x = 420;
   this.myShip3.y = 885;
}
}
}
}
function bajarvidas4()
{
    if(this.cooldownP4 ==0)
    {

         this.cooldownP4 =1;
        this.cooldownP4tick=300;
     if(this.vidasInt4 <= 1)
   {
     this.vidasInt4 = this.vidasInt4 - 1;
         this.vidasJ4.setText(this.vidasInt4);   

      this.myShip4.x = 10000;
   this.myShip4.y = 10000;
}
else
{
     this.vidasInt4 = this.vidasInt4 - 1;
    this.vidasJ4.setText(this.vidasInt4);   
 
 if(this.relojInt > 0)
  {
   this.myShip4.x = 1820;
   this.myShip4.y = 885;
}
}
}
}

function bajarvidas()
{

    if(this.cooldownP1 ==0)
    {
        this.cooldownP1 =1;
        this.cooldownP1tick=300;
      
        if(this.gamemode==0)
        {
        //    this.relojInt = 300;
      //this.caerparedX =-2;
 //this.caerparedY = 1;
// this.wallkill.clear(this.scene);

}

   if(this.vidasInt > 1)
   {

    this.vidasInt = this.vidasInt - 1;
   
  
  if(this.relojInt > 0)
  {
   this.myShip.x = 420;
   this.myShip.y = 130;
    }
    this.vidas.setText(this.vidasInt);
}
else
{

        if(this.gamemode ==0 || this.gamemode ==1 || this.gamemode ==2)
        {
    this.vidasInt = this.vidasInt - 1;
    this.vidas.setText(this.vidasInt);    

   this.myShip.x = 5000;
   this.myShip.y = 5000;
    
}





}
}
}


this.physics.add.overlap(this.enemigos,this.myShip, bajarvidas, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip2, bajarvidas2, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip3, bajarvidas3, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip4, bajarvidas4, function(col1,col2){

   }, this);



this.physics.add.collider(this.explosionUp,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.minas, function(col1,col2){
    col2.destroy();
    
   });

   //2


this.physics.add.collider(this.explosionUp2,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.minas, function(col1,col2){
    col2.destroy();
    
   });

    //3


this.physics.add.collider(this.explosionUp3,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.minas, function(col1,col2){
    col2.destroy();
    
   });


    //4


this.physics.add.collider(this.explosionUp4,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.minas, function(col1,col2){
    col2.destroy();
    
   });


//1
    this.physics.add.collider(this.explosionUp,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//2
    this.physics.add.collider(this.explosionUp2,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//3
    this.physics.add.collider(this.explosionUp3,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//4
    this.physics.add.collider(this.explosionUp4,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
//1

 this.physics.add.collider(this.explosionUp,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


//2

 this.physics.add.collider(this.explosionUp2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


//3

 this.physics.add.collider(this.explosionUp3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });



//4

 this.physics.add.collider(this.explosionUp4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


 function aumentarScore1()
{
if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
   // this.scoreInt = this.scoreInt + 500;
   if(this.cooldownP2tick==300)
    this.killsInt = this.killsInt +1;

 if(this.cooldownP3tick==300)
    this.killsInt = this.killsInt +1;

if(this.cooldownP4tick==300)
    this.killsInt = this.killsInt +1;
    //this.score.setText(this.scoreInt);
    this.kills.setText(this.killsInt);
  }
}


 function aumentarScore2()
{

if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
   if(this.cooldownP1tick==300)
    this.killsInt2 = this.killsInt2 +1;

 if(this.cooldownP3tick==300)
    this.killsInt2 = this.killsInt2 +1;

if(this.cooldownP4tick==300)
    this.killsInt2 = this.killsInt2 +1;

    //this.score.setText(this.scoreInt);
    this.killsJ2.setText(this.killsInt2);
 } 
}

 function aumentarScore3()
{
if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
     if(this.cooldownP1tick==300)
    this.killsInt3 = this.killsInt3 +1;

 if(this.cooldownP2tick==300)
    this.killsInt3 = this.killsInt3 +1;

if(this.cooldownP4tick==300)
    this.killsInt3 = this.killsInt3 +1;

    //this.score.setText(this.scoreInt);
    this.killsJ3.setText(this.killsInt3);
  }
}

 function aumentarScore4()
{
if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
    if(this.cooldownP1tick==300)
    this.killsInt4 = this.killsInt4 +1;

 if(this.cooldownP2tick==300)
    this.killsInt4 = this.killsInt4 +1;

if(this.cooldownP3tick==300)
    this.killsInt4 = this.killsInt4 +1;


    //this.score.setText(this.scoreInt);
    this.killsJ4.setText(this.killsInt4);
  }
}
   function aumentarScore()
{

    this.scoreInt = this.scoreInt + 500;
    this.killsInt = this.enemigos.getLength();

    this.score.setText(this.scoreInt);
    this.kills.setText(this.killsInt);
    //this.score.setFontSize(this.scoreInt);


    if(this.enemigos.getLength() ==0)
    {
    
  this.caerparedX =-2;
 this.caerparedY = 1;

if(this.vidasInt >0  && this.vidasInt >0)
{
    this.myShip.x = 430;
    this.myShip.y = 130;
    this.vidas.setText(this.vidasInt);

}


if(this.jugadoresTotal >=2 && this.vidasInt2 >0)
{
  this.myShip2.x = 1820;
   this.myShip2.y = 130;
    this.vidasJ2.setText(this.vidasInt2);

}   
if(this.jugadoresTotal >=3 && this.vidasInt3 >0)
{
   this.myShip3.x = 420;
   this.myShip3.y = 885;
    this.vidasJ3.setText(this.vidasInt3);
}   
if(this.jugadoresTotal >=4 && this.vidasInt4 >0)
{
  this.myShip4.x = 1820;
   this.myShip4.y = 885;
     this.vidasJ4.setText(this.vidasInt4);
}

    this.nivelInt = this.nivelInt + 1;
this.wallkill.clear(this.scene);
this.relojInt = 300;

   this.nivel.setText(this.nivelInt);
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.wallkill.clear(this.scene);

this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);
this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
    if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');


   
        
 
     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();
   this.kills.setText(this.enemigos.getLength());
     }


 }
 }






    }

}
function aumentarllamas()
{
    this.scoreInt = this.scoreInt + 100;
    this.llama = this.llama +1;  console.log("llama");
    this.score.setText(this.scoreInt);
}
function aumentarllamas2()
{
    this.scoreInt = this.scoreInt + 100;
    this.llama2 = this.llama2 +1;  console.log("llama2");
    this.score.setText(this.scoreInt);
}
function aumentarllamas3()
{
    this.scoreInt = this.scoreInt + 100;
    this.llama3 = this.llama3 +1;  console.log("llama3");
    this.score.setText(this.scoreInt);
}
function aumentarllamas4()
{
    this.scoreInt = this.scoreInt + 100;
    this.llama4 = this.llama4 +1;  console.log("llama4");
    this.score.setText(this.scoreInt);
}


  function aumentarBombas()
{
    this.scoreInt = this.scoreInt + 100;
    this.bombas = this.bombas +1;  console.log("bomba");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas2()
{
    this.scoreInt = this.scoreInt + 100;
    this.bombas2 = this.bombas2 +1;  console.log("bomba2");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas3()
{
    this.scoreInt = this.scoreInt + 100;
    this.bombas3 = this.bombas3 +1;  console.log("bomba3");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas4()
{
    this.scoreInt = this.scoreInt + 100;
    this.bombas4 = this.bombas4 +1;  console.log("bomba4");
    this.score.setText(this.scoreInt);
}



function agregarGuante1()
{
   this.guanteP1 = 1;
     this.scoreInt = this.scoreInt + 100;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}

function agregarGuante2()
{
   this.guanteP2 = 1;
     this.scoreInt = this.scoreInt + 100;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function agregarGuante3()
{
   this.guanteP3 = 1;
     this.scoreInt = this.scoreInt + 100;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function agregarGuante4()
{
   this.guanteP4 = 1;
     this.scoreInt = this.scoreInt + 100;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function aumentarPatin()
{
    this.scoreInt = this.scoreInt + 100;
    this.patin = this.patin +5;
    console.log("velocidad");
    this.score.setText(this.scoreInt);
}

function aumentarPatin2()
{
    this.scoreInt = this.scoreInt + 100;
    this.patin2 = this.patin2 +5;
    console.log("velocidad2");
    this.score.setText(this.scoreInt);
}

function aumentarPatin3()
{
    this.scoreInt = this.scoreInt + 100;
    this.patin3 = this.patin3 +5;
    console.log("velocidad3");
    this.score.setText(this.scoreInt);
}

function aumentarPatin4()
{
    this.scoreInt = this.scoreInt + 100;
    this.patin4 = this.patin4 +5;
    console.log("velocidad4");
    this.score.setText(this.scoreInt);
}

function aumentarVida()
{
     this.scoreInt = this.scoreInt + 500;
    this.vidasInt = this.vidasInt + 1;
    console.log("vida");
    this.vidas.setText(this.vidasInt);
      this.score.setText(this.scoreInt);
}

function aumentarVida2()
{
     this.scoreInt = this.scoreInt + 500;
    this.vidasInt2 = this.vidasInt2 + 1;
    console.log("vida2");
    this.vidasJ2.setText(this.vidasInt2);
      this.score.setText(this.scoreInt);
}

function aumentarVida3()
{
     this.scoreInt = this.scoreInt + 500;
    this.vidasInt3 = this.vidasInt3 + 1;
    console.log("vida3");
    this.vidasJ3.setText(this.vidasInt3);
      this.score.setText(this.scoreInt);
}

function aumentarVida4()
{
     this.scoreInt = this.scoreInt + 500;
    this.vidasInt4 = this.vidasInt4 + 1;
    console.log("vida4");
    this.vidasJ4.setText(this.vidasInt4);
      this.score.setText(this.scoreInt);
}




this.physics.add.collider(this.myShip,this.powerupsBombas, aumentarBombas, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip2,this.powerupsBombas, aumentarBombas2, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip3,this.powerupsBombas, aumentarBombas3, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip4,this.powerupsBombas, aumentarBombas4, function(col1,col2){
    col2.destroy();  
   },this);



  this.physics.add.collider(this.myShip,this.powerupsLlamas, aumentarllamas, function(col1,col2){
    col2.destroy();  
   },this);
  this.physics.add.collider(this.myShip2,this.powerupsLlamas, aumentarllamas2, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip3,this.powerupsLlamas, aumentarllamas3, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip4,this.powerupsLlamas, aumentarllamas4, function(col1,col2){
    col2.destroy();  
   },this);



 this.physics.add.collider(this.myShip,this.powerupsVidas, aumentarVida, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip2,this.powerupsVidas, aumentarVida2, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip3,this.powerupsVidas, aumentarVida3, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip4,this.powerupsVidas, aumentarVida4, function(col1,col2){
    col2.destroy();    
   },this);

  this.physics.add.collider(this.myShip,this.powerupsPatin, aumentarPatin, function(col1,col2){
    col2.destroy();    
   },this);
   this.physics.add.collider(this.myShip2,this.powerupsPatin, aumentarPatin2, function(col1,col2){
    col2.destroy();    
   },this);
    this.physics.add.collider(this.myShip3,this.powerupsPatin, aumentarPatin3, function(col1,col2){
    col2.destroy();    
   },this);
     this.physics.add.collider(this.myShip4,this.powerupsPatin, aumentarPatin4, function(col1,col2){
    col2.destroy();    
   },this);


  this.physics.add.collider(this.myShip,this.powerupsGuantes, agregarGuante1, function(col1,col2){
    col2.destroy();    
   },this);
   this.physics.add.collider(this.myShip2,this.powerupsGuantes, agregarGuante2, function(col1,col2){
    col2.destroy();    
   },this);
    this.physics.add.collider(this.myShip3,this.powerupsGuantes, agregarGuante3, function(col1,col2){
    col2.destroy();    
   },this);
     this.physics.add.collider(this.myShip4,this.powerupsGuantes, agregarGuante4, function(col1,col2){
    col2.destroy();    
   },this);
         
   this.physics.add.collider(this.myShip,this.powerups, function(col1,col2){
   

    col2.destroy();
         
    
   });

    this.physics.add.collider(this.myShip,this.minas, bajarvidas,function(col1,col2){
    col2.destroy();     
   },this);
     this.physics.add.collider(this.myShip2,this.minas, bajarvidas2,function(col1,col2){
    col2.destroy();     
   },this);
      this.physics.add.collider(this.myShip3,this.minas, bajarvidas3,function(col1,col2){
    col2.destroy();     
   },this);
       this.physics.add.collider(this.myShip4,this.minas, bajarvidas4,function(col1,col2){
    col2.destroy();     
   },this);

 this.physics.add.overlap(this.myShip,this.bombasFull, cogerBomba,function(col1,col2){
    
    if(this.guanteP1==2)
    {
        if(this.cursors.down.isDown)
        {
       
        col2.y = col2.y + 50;
        }

        if(this.cursors.left.isDown)
        {
       
        col2.x = col2.x - 50;
        }

          if(this.cursors.right.isDown)
        {
       
        col2.x = col2.x + 50;
        }
          if(this.cursors.up.isDown)
        {
       
          col2.y = col2.y - 50;
        }
    }

   },this);


 this.physics.add.overlap(this.myShip2,this.bombasFull2, cogerBomba,function(col1,col2){
    
    if(this.guanteP2==2)
    {
        if(this.downjugador2.isDown)
        {
       
        col2.y = col2.y + 50;
        }

        if(this.leftjugador2.isDown)
        {
       
        col2.x = col2.x - 50;
        }

          if(this.rightjugador2.isDown)
        {
       
        col2.x = col2.x + 50;
        }
          if(this.upjugador2.isDown)
        {
       
          col2.y = col2.y - 50;
        }
    }

   },this);



 this.physics.add.overlap(this.myShip3,this.bombasFull3, cogerBomba,function(col1,col2){
    
    if(this.guanteP3==2)
    {
        if(this.downjugador3.isDown)
        {
       
        col2.y = col2.y + 50;
        }

        if(this.leftjugador3.isDown)
        {
       
        col2.x = col2.x - 50;
        }

          if(this.rightjugador3.isDown)
        {
       
        col2.x = col2.x + 50;
        }
          if(this.upjugador3.isDown)
        {
       
          col2.y = col2.y - 50;
        }
    }

   },this);


 this.physics.add.overlap(this.myShip4,this.bombasFull4, cogerBomba,function(col1,col2){
    
    if(this.guanteP4==2)
    {
        if(this.downjugador4.isDown)
        {
       
        col2.y = col2.y + 50;
        }

        if(this.leftjugador4.isDown)
        {
       
        col2.x = col2.x - 50;
        }

          if(this.rightjugador4.isDown)
        {
       
        col2.x = col2.x + 50;
        }
          if(this.upjugador4.isDown)
        {
       
          col2.y = col2.y - 50;
        }
    }

   },this);

 //leftjugador2



function actualizarEstado()
{
    if(this.pause==0)
{
if( this.vidasInt >0)
{
      if(this.bombasFull.getLength()< this.bombas)
        {
         this.bombasFull.create(this.myShip.x, this.myShip.y, 'bomba');
        this.countExplosion = 100;
         }       
    
}
     }
}
function actualizarEstado2()
{
    if(this.jugadoresTotal >=2 && this.vidasInt2 >0)
{
    if(this.pause==0)
{
      if(this.bombasFull2.getLength()< this.bombas2)
        {
         this.bombasFull2.create(this.myShip2.x, this.myShip2.y, 'bomba');
        this.countExplosion2 = 100;
         }     
         }  
     }
}
function actualizarEstado3()
{
    if(this.jugadoresTotal >=3  && this.vidasInt3 >0)
{
    if(this.pause==0)
{
      if(this.bombasFull3.getLength()< this.bombas3)
        {
        this.bombasFull3.create(this.myShip3.x, this.myShip3.y, 'bomba');
        this.countExplosion3 = 100;
         }     
         }  
     }
}
function actualizarEstado4()
{
    if(this.jugadoresTotal >=4 && this.vidasInt4 >0)
{
    if(this.pause==0)
{
      if(this.bombasFull4.getLength()< this.bombas4)
        {
                
         this.bombasFull4.create(this.myShip4.x, this.myShip4.y, 'bomba');
        this.countExplosion4 = 100;
         }   
         }  
         }  
}





   this.input.keyboard.on('keydown_X', actualizarEstado, this);
   this.input.keyboard.on('keydown_C', actualizarEstado2, this);
   this.input.keyboard.on('keydown_V', actualizarEstado3, this);
   this.input.keyboard.on('keydown_B', actualizarEstado4, this);

//guante

function cogerBomba()
{

}
this.input.keyboard.on('keydown_Z', cogerBomba, this);

function activarPause()
{

   if(this.pause==1)
   this.pause = 0;
    else   
   this.pause = 1;  

if(this.pause ==0)
{
     this.menureiniciar =0;
    this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;

this.menupspritereiniciar.visible = false;

      this.menupspritereiniciarP1.visible = false;
     this.menupspritereiniciarP2.visible = false;
      this.menupspritereiniciarP3.visible = false;
       this.menupspritereiniciarP4.visible = false;

   
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
}

if(this.pause ==1)
{

if(this.menuseleccion==1)
    {
         this.menupausesprite.visible = true;
    }
    if(this.menuseleccion==2)
    {
            this.menupausesprite2.visible = true;

    }
    if(this.menuseleccion==3)
    {
            this.menupausesprite3.visible= true;
    }
}
    
    this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);

  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

}




function moverMenuIzq()
{
if(this.pause == 1)
 {

  if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
    }
    else if(this.menuseleccion==2)
    {

 this.menupausesprite.visible = true;
  this.menupausesprite2.visible = false;
  this.menuseleccion = 1;
 
    }
    else if(this.menuseleccion==3)
    {
this.menupausesprite3.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }

                    
  }
}

function moverMenuDer()
{

    if(this.pause == 1)
 {
     if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }
    else if(this.menuseleccion==2)
    {

 this.menupausesprite2.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
 
    }
    else if(this.menuseleccion==3)
    {
this.menupausesprite.visible = true;
  this.menupausesprite3.visible = false;
  this.menuseleccion = 1;
    }
}
}


function realizarAccionesMenu()
{
     if(this.pause == 1)
 {
     if(this.menuseleccion==1)
    {
        this.pause = 0;
         this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
     }

    else if(this.menuseleccion==2)
    {

        this.menureiniciar =1;
         this.menupspritereiniciar.visible = true;

        if(this.jugadoresTotal ==1)
        {
         if(this.aceptarP1 == 1)
         {
       this.scene.restart();
        }
        }


        if(this.jugadoresTotal ==2)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1)
         {
       this.scene.restart();
        }
        }

    if(this.jugadoresTotal ==3)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1 && this.aceptarP3 == 1)
         {
       this.scene.restart();
        }
        }

         if(this.jugadoresTotal ==4)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1 && this.aceptarP3 == 1 && this.aceptarP4 == 1)
         {
       this.scene.restart();
        }
        }


    }
    else if(this.menuseleccion==3)
    {

        this.scene.start('SceneB');
    }
 }


    
}

function aceptarVotacionP1()
{

    if(this.menureiniciar ==1 && this.pause ==1)
    {
    this.aceptarP1 = 1;
    this.menupspritereiniciarP1.visible = true;


    }
}
function aceptarVotacionP2()
{
    if(this.menureiniciar ==1 && this.pause ==1)
    {
        this.aceptarP2 = 1;
    this.menupspritereiniciarP2.visible = true;

    }
}
function aceptarVotacionP3()
{
    if(this.menureiniciar ==1 && this.pause ==1)
    {
            this.aceptarP3 = 1;
    this.menupspritereiniciarP3.visible = true;
    }
}
function aceptarVotacionP4()
{
    if(this.menureiniciar ==1 && this.pause ==1)
    {
          this.aceptarP4 = 1;
    this.menupspritereiniciarP4.visible = true;
    }
}

function activarEspera2()
{

 this.aceptarP2 = 1;
    this.menupspritereiniciarP2.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;





      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);


 if(this.gamemode == 0)
 {
    
  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }

}


function activarEspera3()
{
     this.aceptarP3 = 1;
    this.menupspritereiniciarP3.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;

      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);


 if(this.gamemode == 0)
 {
    
  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }

}


function activarEspera4()
{
     this.aceptarP4 = 1;
    this.menupspritereiniciarP4.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;



      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);

 if(this.gamemode == 0)
 {

  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }

}

//simular desconexion mando 2
  this.input.keyboard.on('keydown_E', activarEspera2, this);
//simular desconexion mando 3
    this.input.keyboard.on('keydown_Y', activarEspera3, this);
  //simular desconexion mando 4
    this.input.keyboard.on('keydown_O', activarEspera4, this);

this.input.keyboard.on('keydown_Q', activarPause, this);
this.input.keyboard.on('keydown_R', activarPause, this);
this.input.keyboard.on('keydown_U', activarPause, this);
this.input.keyboard.on('keydown_P', activarPause, this);

this.input.keyboard.on('keydown_LEFT', moverMenuIzq, this);
this.input.keyboard.on('keydown_RIGHT', moverMenuDer, this);
this.input.keyboard.on('keydown_X', realizarAccionesMenu, this);


this.input.keyboard.on('keydown_A', moverMenuIzq, this);
this.input.keyboard.on('keydown_D', moverMenuDer, this);
this.input.keyboard.on('keydown_C', realizarAccionesMenu, this);

this.input.keyboard.on('keydown_F', moverMenuIzq, this);
this.input.keyboard.on('keydown_H', moverMenuDer, this);
this.input.keyboard.on('keydown_V', realizarAccionesMenu, this);


this.input.keyboard.on('keydown_J', moverMenuIzq, this);
this.input.keyboard.on('keydown_L', moverMenuDer, this);
this.input.keyboard.on('keydown_B', realizarAccionesMenu, this);


this.input.keyboard.on('keydown_X', aceptarVotacionP1, this);
this.input.keyboard.on('keydown_C', aceptarVotacionP2, this);
this.input.keyboard.on('keydown_V', aceptarVotacionP3, this);
this.input.keyboard.on('keydown_B', aceptarVotacionP4, this);


  this.menupausesprite = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause');
  this.menupausesprite.visible = false;

   this.menupausesprite2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause2');
  this.menupausesprite2.visible = false;

 this.menupausesprite3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause3');
  this.menupausesprite3.visible = false;

 this.menupspritereiniciar = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenu');
  this.menupspritereiniciar.visible = false;

   this.menupspritereiniciarP1 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP1');
  this.menupspritereiniciarP1.visible = false;

   this.menupspritereiniciarP2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP2');
  this.menupspritereiniciarP2.visible = false;

   this.menupspritereiniciarP3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP3');
  this.menupspritereiniciarP3.visible = false;

   this.menupspritereiniciarP4 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP4');
  this.menupspritereiniciarP4.visible = false;


function crearmapa()
{



}






 function moverazar()
 {
    
 }


//moverazar();



}

update ()
{
   
 
//console.log(this.gamemode);
   if(this.pause == 0)
   {

 //REINICIO


//console.log("gamemode "+ this.gamemode+ " v1: " + this.vidasInt + this.vidasInt2+ this.vidasInt3+ this.vidasInt4 )
    if(this.gamemode == 0 && this.vidasInt <=0 && this.vidasInt2 <=0 && this.vidasInt3 <=0 && this.vidasInt4 <=0 )
    {

this.scene.restart();

     this.caerparedX =-2;
 this.caerparedY = 1;

this.relojInt = 300;
      this.caerparedX =-2;
 this.caerparedY = 1;

    this.scoreInt = 0;
    this.myShip.x = 430;
    this.myShip.y = 130;
 
this.vidasInt = 3;


if(this.jugadoresTotal >=2)
{
this.vidasInt2 = 3;
  this.myShip2.x = 1820;
   this.myShip2.y = 130;
    this.vidasJ2.setText(this.vidasInt2);

}   
if(this.jugadoresTotal >=3)
{
this.vidasInt3 = 3;
   this.myShip3.x = 420;
   this.myShip3.y = 885;
    this.vidasJ3.setText(this.vidasInt3);
}   
if(this.jugadoresTotal >=4)
{
this.vidasInt4 = 3;
  this.myShip4.x = 1820;
   this.myShip4.y = 885;
     this.vidasJ4.setText(this.vidasInt4);
}
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.wallkill.clear(this.scene);

this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);

this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
     if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');


     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();

     }


 }
 }



}

//FIN REINICIO
 if(this.relojInt==1)
 {

if(this.gamemode == 1 || this.gamemode == 2 )
{
    if(this.vidasInt>0)
    {
  this.vidasInt = 1;
    this.vidas.setText(this.vidasInt4); }
}

 if(this.jugadoresTotal >=2 && (this.gamemode == 1 || this.gamemode == 2 ))
{

    if(this.vidasInt2>0)
    {
 this.vidasInt2 = 1;
    this.vidasJ2.setText(this.vidasInt4); 
   } 
    }

    if(this.jugadoresTotal >=3 && (this.gamemode == 1 || this.gamemode == 2))
{  

    if(this.vidasInt3>0)
    {
  this.vidasInt3 = 1;
    this.vidasJ3.setText(this.vidasInt4);  
    }
    }
    if(this.jugadoresTotal >=4 &&( this.gamemode == 1 || this.gamemode == 2))
{ 

    if(this.vidasInt4>0)
    {
  this.vidasInt4 = 1;
    
    this.vidasJ4.setText(this.vidasInt4);   
}
 }
 }



if(this.gamemode == 1 ) //modo multijugador
{
if(this.jugadoresTotal ==2)
{
   if(this.vidasInt <=0 )
{
    this.scene.restart();
}

if(this.vidasInt2 <=0 )
{
    this.scene.restart();
}
}

if(this.jugadoresTotal ==3)
{
   if(this.vidasInt <=0 && this.vidasInt2 <=0)
{
    this.scene.restart();
}

 if(this.vidasInt2 <=0 && this.vidasInt3 <=0)
{
    this.scene.restart();
}

 if(this.vidasInt <=0 && this.vidasInt3 <=0)
{
    this.scene.restart();
}
}

if(this.jugadoresTotal ==4)
{
if(this.vidasInt <= 0 && this.vidasInt2 <= 0 && this.vidasInt3 <=0)
{
    this.scene.restart();
}

if(this.vidasInt4 <= 0 && this.vidasInt2 <= 0 && this.vidasInt3 <=0)
{
    this.scene.restart();
}


if(this.vidasInt4 <= 0 && this.vidasInt2 <= 0 && this.vidasInt<=0)
{
    this.scene.restart();
}

if(this.vidasInt <= 0 && this.vidasInt4 <= 0 && this.vidasInt3 <=0)
{
    this.scene.restart();
}
}
}

if(this.gamemode == 2 ) //modo en equipo
{
    if(this.vidasInt <=0 && this.vidasInt2<= 0 && this.vidasInt3 <=0 && this.vidasInt4<=0)
{
    this.scene.restart();
}

if(this.killsInt > 3)
{
    this.scene.restart();
}

if(this.killsInt2 > 3)
{
    this.scene.restart();
}


if(this.killsInt3 > 3)
{
    this.scene.restart();
}

if(this.killsInt4 > 3)
{
    this.scene.restart();
}

}
if(this.guantebutton1.isDown)
{
    if(this.guanteP1==1)
    {
        this.guanteP1=2;
    }
}


if(this.guantebutton1.isUp)
{
    if(this.guanteP1==2)
    {
        this.guanteP1=1;
    }
}

if(this.guantebutton2.isDown)
{
    if(this.guanteP2==1)
    {
        this.guanteP2=2;
    }
}


if(this.guantebutton2.isUp)
{
    if(this.guanteP2==2)
    {
        this.guanteP2=1;
    }
}


if(this.guantebutton3.isDown)
{
    if(this.guanteP3==1)
    {
        this.guanteP3=2;
    }
}


if(this.guantebutton3.isUp)
{
    if(this.guanteP3==2)
    {
        this.guanteP3=1;
    }
}


if(this.guantebutton4.isDown)
{
    if(this.guanteP4==1)
    {
        this.guanteP4=2;
    }
}


if(this.guantebutton4.isUp)
{
    if(this.guanteP4==2)
    {
        this.guanteP4=1;
    }
}


if(this.cooldownP1 ==0)
    this.myShip.visible=true;

if(this.cooldownP1==1)
{
  this.cooldownP1tick =this.cooldownP1tick -1;

  if(this.myShip.visible==true)
this.myShip.visible=false;
  else    
this.myShip.visible=true;

  if(this.cooldownP1tick < 0)
    this.cooldownP1 =0;

 }  




if(this.cooldownP2 ==0)
    this.myShip2.visible=true;

if(this.cooldownP2==1)
{
  this.cooldownP2tick =this.cooldownP2tick -1;

  if(this.myShip2.visible==true)
this.myShip2.visible=false;
  else    
this.myShip2.visible=true;

  if(this.cooldownP2tick < 0)
    this.cooldownP2 =0;

 }  



if(this.cooldownP3 ==0)
    this.myShip3.visible=true;

if(this.cooldownP3==1)
{
  this.cooldownP3tick =this.cooldownP3tick -1;

  if(this.myShip3.visible==true)
this.myShip3.visible=false;
  else    
this.myShip3.visible=true;

  if(this.cooldownP3tick < 0)
    this.cooldownP3 =0;

 }  



if(this.cooldownP4 ==0)
    this.myShip4.visible=true;

if(this.cooldownP4==1)
{
  this.cooldownP4tick =this.cooldownP4tick -1;

  if(this.myShip4.visible==true)
this.myShip4.visible=false;
  else    
this.myShip4.visible=true;

  if(this.cooldownP4tick < 0)
    this.cooldownP4 =0;

 }  

this.explosionUp.setVelocityX(-20*this.llama);
           this.explosionDown.setVelocityX(20*this.llama);
         this.explosionLeft.setVelocityY(-20*this.llama);
        this.explosionRight.setVelocityY(20*this.llama);

         this.explosionUp2.setVelocityX(-20*this.llama2);
           this.explosionDown2.setVelocityX(20*this.llama2);
         this.explosionLeft2.setVelocityY(-20*this.llama2);
        this.explosionRight2.setVelocityY(20*this.llama2);


         this.explosionUp3.setVelocityX(-20*this.llama3);
           this.explosionDown3.setVelocityX(20*this.llama3);
         this.explosionLeft3.setVelocityY(-20*this.llama3);
        this.explosionRight3.setVelocityY(20*this.llama3);

          this.explosionUp4.setVelocityX(-20*this.llama4);
           this.explosionDown4.setVelocityX(20*this.llama4);
         this.explosionLeft4.setVelocityY(-20*this.llama4);
        this.explosionRight4.setVelocityY(20*this.llama4);


this.tick1 = this.tick1 +1;
 
 if(this.tick1 >10)
    {
        this.tick1=0;

        if(this.relojInt > 0)
   this.relojInt = this.relojInt-1;

    this.reloj.setText(this.relojInt);

    if(this.relojInt < 1)
{


this.caerparedX = this.caerparedX +1;

         //   var i = Phaser.Math.Between(-1,22);
            
        //    var j = Phaser.Math.Between(1,14);
            
        var i = this.caerparedX;
            
            var j = this.caerparedY;



     this.wallkill.create(480+ i*32*2, 64 + j*32*2, 'wallkill');


if(this.caerparedX> 20)
{
    this.caerparedX = -2;
    this.caerparedY = this.caerparedY+1;
     // 
}

}

}


  this.enemigos.children.iterate(child => {
      
     


            var random = Phaser.Math.Between(0,100);
             //this.bomba = child;
            //child.destroy(child, true);

            if(random ==0)
            child.setVelocityX(100*this.nivelInt);

            if(random ==1)
            child.setVelocityX(-100*this.nivelInt);

            if(random ==2)
            child.setVelocityY(100*this.nivelInt);

            if(random ==3)
            child.setVelocityY(-100*this.nivelInt);
            
            if(random ==99)
            {
                random = Phaser.Math.Between(0,99);
                {
                    if(random ==99)
                    {
                     this.minas.create(child.x, child.y, 'mina');
                    }
                 }
            }

            return;
            }
           
        )

 if(this.CrearObjeto == 1)
  {

    this.CrearObjeto = 0;
  }


if(this.limpiarLlama >0)
{
    this.limpiarLlama = this.limpiarLlama-1;
}
if(this.limpiarLlama2 >0)
{
    this.limpiarLlama2 = this.limpiarLlama2-1;
}
if(this.limpiarLlama3 >0)
{
    this.limpiarLlama3 = this.limpiarLlama3-1;
}
if(this.limpiarLlama4 >0)
{
    this.limpiarLlama4 = this.limpiarLlama4-1;
}


if(this.limpiarLlama ==0)
{
 this.explosionUp.clear(this.scene);
  this.explosionDown.clear(this.scene);
  this.explosionLeft.clear(this.scene);
 this.explosionRight.clear(this.scene);
}

if(this.limpiarLlama2 ==0)
{
 this.explosionUp2.clear(this.scene);
  this.explosionDown2.clear(this.scene);
  this.explosionLeft2.clear(this.scene);
 this.explosionRight2.clear(this.scene);
}


if(this.limpiarLlama3 ==0)
{
 this.explosionUp3.clear(this.scene);
  this.explosionDown3.clear(this.scene);
  this.explosionLeft3.clear(this.scene);
 this.explosionRight3.clear(this.scene);
}


if(this.limpiarLlama4 ==0)
{
 this.explosionUp4.clear(this.scene);
  this.explosionDown4.clear(this.scene);
  this.explosionLeft4.clear(this.scene);
 this.explosionRight4.clear(this.scene);
}


if(this.countExplosion >0)
{
    this.countExplosion = this.countExplosion-1;
}
if(this.countExplosion2 >0)
{
    this.countExplosion2 = this.countExplosion2-1;
}
if(this.countExplosion3 >0)
{
    this.countExplosion3 = this.countExplosion3-1;
}
if(this.countExplosion4 >0)
{
    this.countExplosion4 = this.countExplosion4-1;
}

if(this.bombasFull.getLength()>0 && this.countExplosion ==0)
{
     this.bomba = this.bombasFull.getFirst();
     this.bombasFull.children.iterate(child => {
        if (true) {

             this.bomba = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull.children.iterate(child => {
        if (child.x == this.bomba.x && child.y == this.bomba.y) {

             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           
        })

this.countBomb = 0;

        this.explosionUp.create(this.bomba.x, this.bomba.y, 'explosion');
        this.explosionUp.setVelocityX(-20*this.llama);

        this.explosionDown.create(this.bomba.x, this.bomba.y, 'explosion');
           this.explosionDown.setVelocityX(20*this.llama);
   
        this.explosionLeft.create(this.bomba.x, this.bomba.y, 'explosion');
         this.explosionLeft.setVelocityY(-20*this.llama);
  
        this.explosionRight.create(this.bomba.x, this.bomba.y, 'explosion');
        this.explosionRight.setVelocityY(20*this.llama);
    
        this.limpiarLlama =50;
 }


if(this.bombasFull2.getLength()>0 && this.countExplosion2 ==0)
{
     this.bomba2 = this.bombasFull2.getFirst();
     this.bombasFull2.children.iterate(child => {
        if (true) {

             this.bomba2 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull2.children.iterate(child => {
        if (child.x == this.bomba2.x && child.y == this.bomba2.y) {

             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           
        })

this.countBomb2 = 0;

        this.explosionUp2.create(this.bomba2.x, this.bomba2.y, 'explosion');
        this.explosionUp2.setVelocityX(-20*this.llama2);

        this.explosionDown2.create(this.bomba2.x, this.bomba2.y, 'explosion');
           this.explosionDown2.setVelocityX(20*this.llama2);
   
        this.explosionLeft2.create(this.bomba2.x, this.bomba2.y, 'explosion');
         this.explosionLeft2.setVelocityY(-20*this.llama2);
  
        this.explosionRight2.create(this.bomba2.x, this.bomba2.y, 'explosion');
        this.explosionRight2.setVelocityY(20*this.llama2);
    
        this.limpiarLlama2 =50;
 }

if(this.bombasFull3.getLength()>0 && this.countExplosion3 ==0)
{
     this.bomba3 = this.bombasFull3.getFirst();
     this.bombasFull3.children.iterate(child => {
        if (true) {

             this.bomba3 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull3.children.iterate(child => {
        if (child.x == this.bomba3.x && child.y == this.bomba3.y) {

             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           
        })

this.countBomb3 = 0;

        this.explosionUp3.create(this.bomba3.x, this.bomba3.y, 'explosion');
        this.explosionUp3.setVelocityX(-20*this.llama3);

        this.explosionDown3.create(this.bomba3.x, this.bomba3.y, 'explosion');
           this.explosionDown3.setVelocityX(20*this.llama3);
   
        this.explosionLeft3.create(this.bomba3.x, this.bomba3.y, 'explosion');
         this.explosionLeft3.setVelocityY(-20*this.llama3);
  
        this.explosionRight3.create(this.bomba3.x, this.bomba3.y, 'explosion');
        this.explosionRight3.setVelocityY(20*this.llama3);
    
        this.limpiarLlama3 =50;
 }

if(this.bombasFull4.getLength()>0 && this.countExplosion4 ==0)
{
     this.bomba4 = this.bombasFull4.getFirst();
     this.bombasFull4.children.iterate(child => {
        if (true) {

             this.bomba4 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull4.children.iterate(child => {
        if (child.x == this.bomba4.x && child.y == this.bomba4.y) {

             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           
        })

this.countBomb4 = 0;

        this.explosionUp4.create(this.bomba4.x, this.bomba4.y, 'explosion');
        this.explosionUp4.setVelocityX(-20*this.llama4);

        this.explosionDown4.create(this.bomba4.x, this.bomba4.y, 'explosion');
           this.explosionDown4.setVelocityX(20*this.llama4);
   
        this.explosionLeft4.create(this.bomba4.x, this.bomba4.y, 'explosion');
         this.explosionLeft4.setVelocityY(-20*this.llama4);
  
        this.explosionRight4.create(this.bomba4.x, this.bomba4.y, 'explosion');
        this.explosionRight4.setVelocityY(20*this.llama4);
    
        this.limpiarLlama4 =50;
 }

if(this.resbalar==0)
{
 this.myShip.setVelocityX(0);
  this.myShip.setVelocityY(0);
}
if(this.resbalar2==0)
{
this.myShip2.setVelocityX(0);
  this.myShip2.setVelocityY(0);
}

if(this.resbalar3==0)
{
  this.myShip3.setVelocityX(0);
  this.myShip3.setVelocityY(0);
}

if(this.resbalar4==0)
{
  this.myShip4.setVelocityX(0);
  this.myShip4.setVelocityY(0);
}

    switch (this.cursors) {
      case "keydown_LEFT":
          console.log("xd");
         this.myShip.setVelocityX(-20*this.patin);
         break;
      case "keydown_RIGHT":
          console.log("xd");
           this.myShip.setVelocityX(20*this.patin);
         break;
      case "keydown_UP":
          console.log("xd");
            this.myShip.setVelocityY(-20*this.patin);
          break;
      case "keydown_DOWN":
          console.log("xd");
          this.myShip.setVelocityY(20*this.patin);
    }


        if (this.cursors.left.isDown) { 
            this.myShip.setVelocityX(-20*this.patin);
        }
        else{
             
        }


        if (this.cursors.right.isDown) {
            this.myShip.setVelocityX(20*this.patin);
        }
        else{
           
        }

        if (this.cursors.up.isDown) {
            this.myShip.setVelocityY(-20*this.patin);
        }
        else
        {
           
        }

          if (this.cursors.down.isDown) {
            this.myShip.setVelocityY(20*this.patin);
        }
        else{
           
        }

//JUGADOR 2
        if (this.leftjugador2.isDown) { 
            this.myShip2.setVelocityX(-20*this.patin2);
        }
        else{
             
        }


        if (this.rightjugador2.isDown) {
            this.myShip2.setVelocityX(20*this.patin2);
        }
        else{
           
        }

        if (this.upjugador2.isDown) {
            this.myShip2.setVelocityY(-20*this.patin2);
        }
        else
        {
           
        }

          if (this.downjugador2.isDown) {
            this.myShip2.setVelocityY(20*this.patin2);
        }
        else{
           
        }
 

//JUGADOR 3

if (this.leftjugador3.isDown) { 
            this.myShip3.setVelocityX(-20*this.patin3);
        }
        else{
             
        }

        if (this.rightjugador3.isDown) {
            this.myShip3.setVelocityX(20*this.patin3);
        }
        else{
           
        }

        if (this.upjugador3.isDown) {
            this.myShip3.setVelocityY(-20*this.patin3);
        }
        else
        {
           
        }

          if (this.downjugador3.isDown) {
            this.myShip3.setVelocityY(20*this.patin3);
        }
        else{
           
        }
 

//JUGADOR 4


if (this.leftjugador4.isDown) { 
            this.myShip4.setVelocityX(-20*this.patin4);
        }
        else{
             
        }

        if (this.rightjugador4.isDown) {
            this.myShip4.setVelocityX(20*this.patin4);
        }
        else{
           
        }

        if (this.upjugador4.isDown) {
            this.myShip4.setVelocityY(-20*this.patin4);
        }
        else
        {
           
        }

          if (this.downjugador4.isDown) {
            this.myShip4.setVelocityY(20*this.patin4);
        }
        else{
           
        }
 

this.resbalar = 0;
this.resbalar2 = 0;
this.resbalar3 = 0;
this.resbalar4 = 0;



}
}
gameOver ()
{
    this.input.off('gameobjectup');
}

createPowerUp(col1,col2)
{
    this.powerups.create(col1, col2, 'ship');
}


}


class SceneB extends Phaser.Scene {

    constructor ()
    {
        super('SceneB');
    }

    preload ()
    {

          this.load.setBaseURL('http://labs.phaser.io');
  this.load.setBaseURL('https://i.ibb.co');


/*                  this.load.image('fondo', 'img/menuOpciones.png');
                  this.load.image('seleccion', 'img/seleccion.png');
                    this.load.image('seleccionpersonajes', 'img/seleccionpersonajes.png');
   this.load.image('seleccion2', 'img/seleccion2.png');
 */

                   this.load.image('fondo', 'JxhB0fg/menu-Opciones.png');
                  this.load.image('seleccion', '1T5m6WT/seleccion.png');
                    this.load.image('seleccionpersonajes', 'wY6R1tB/seleccionpersonajes.png');
   this.load.image('seleccion2', 'DbLXQxS/seleccion2.png');
 

    }
    create ()
    {
        // this.cursors = this.input.keyboard.createCursorKeys();

this.gamemode = 0;
this.jugadores = 1;
this.music = 0;
        this.menufondo = this.physics.add.sprite(1920/2, 1080/2, 'fondo');
       
        this.seleccionInt =0; // Multijugador

this.pantalla=1;


 this.seleccionadoSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion');

 this.tipojuegoSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.cantidadParticipantesSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.musicapartidaSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');

   this.menufondopersonajes = this.physics.add.sprite(1920/2, 1080/2, 'seleccionpersonajes');
      this.menufondopersonajes.visible = false;
 this.seleccionadoSprite2 = this.physics.add.sprite(413 +413/4, 336, 'seleccion');
  this.seleccionadoSprite2.visible = false;
function moverMenuArriba()
{
    if(this.pantalla ==1)
    {
 if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 0;
 else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 3;
         else if(this.seleccionInt ==8)
            this.seleccionInt = 6;
}
  else if(this.pantalla ==2)
    {
 if(this.seleccionInt ==10)
            this.seleccionInt = 9;
        }
}

function moverMenuAbajo()
{

if(this.pantalla ==1)
    {
    if(this.seleccionInt ==0 || this.seleccionInt ==1 || this.seleccionInt ==2)
            this.seleccionInt = 3;

        else if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 6;
               else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 8;
}
  else if(this.pantalla ==2)
    {

 if(this.seleccionInt ==9)
            this.seleccionInt = 10;
        }
        
}
function moverMenuIzq()
{
    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 2;

        else if(this.seleccionInt ==1)
            this.seleccionInt = 0;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 1;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 3;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 4;
          else if(this.seleccionInt ==16)
            this.seleccionInt = 5;
         else if(this.seleccionInt ==7)
            this.seleccionInt = 6;
     }  
}
function moverMenuDer()
{
    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 1;
        else if(this.seleccionInt ==1)
            this.seleccionInt = 2;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 0;
          else if(this.seleccionInt ==3)
            this.seleccionInt = 4;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 5;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 16;
         else if(this.seleccionInt ==6)
            this.seleccionInt = 7;
    }
       
}
function seleccionarOpcion()
{
    if(this.pantalla ==1)
    {
    if(this.seleccionInt ==0)
        this.gamemode =0;

    if(this.seleccionInt ==1)
        this.gamemode =1;

    if(this.seleccionInt ==2)
        this.gamemode =2;

     if(this.seleccionInt ==3)
        this.jugadores =1;

    if(this.seleccionInt ==4)
        this.jugadores =2;

    if(this.seleccionInt ==5)
        this.jugadores =3;

 if(this.seleccionInt ==16)
        this.jugadores =4;

    if(this.seleccionInt ==6)
        this.music =0;
    if(this.seleccionInt ==7)
        this.music =1;
     if(this.seleccionInt ==8)
        {
             this.seleccionInt =9;
            this.pantalla=2;

            this.menufondopersonajes.visible = true;
             this.seleccionadoSprite2.visible = true;
        }
    }
    else if(this.pantalla ==2)
    {
        if(this.seleccionInt==9)
        {
            this.pantalla=1;
             this.seleccionInt =8;
            this.menufondopersonajes.visible = false;
             this.seleccionadoSprite2.visible = false;
        //    this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
        }
        else if(this.seleccionInt==10)
        {
         
       this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
        }
    }

}
    this.input.keyboard.on('keydown_UP', moverMenuArriba, this);
    this.input.keyboard.on('keydown_DOWN', moverMenuAbajo, this);
    this.input.keyboard.on('keydown_LEFT', moverMenuIzq, this);
    this.input.keyboard.on('keydown_RIGHT', moverMenuDer, this);
 this.input.keyboard.on('keydown_X', seleccionarOpcion, this);


      //  this.lights.enable();

        /*let atlasTexture = this.textures.get('megaset');

        let frames = atlasTexture.getFrameNames();

        Phaser.Utils.Array.Shuffle(frames);

        for (let i = 0; i < frames.length; i++)
        {
            let x = Phaser.Math.Between(100, 700);
            let y = Phaser.Math.Between(100, 500);

            this.add.image(x, y, 'megaset', frames[i]).setPipeline('Light2D');
        }

        this.add.image(120, 160, 'megaset', 'contra2');*/
    }


update()
{

if(this.gamemode == 0)
{
this.tipojuegoSprite.x = 413 +413/4;
this.tipojuegoSprite.y = 336;
}
if(this.gamemode == 1)
{
this.tipojuegoSprite.x = 413 +513;
this.tipojuegoSprite.y = 336;
}

if(this.gamemode == 2)
{
this.tipojuegoSprite.x = 413 +913;
this.tipojuegoSprite.y = 336;
}


if(this.jugadores == 1)
{
this.cantidadParticipantesSprite.x = 413 +413/4;
this.cantidadParticipantesSprite.y = 486;
}
if(this.jugadores == 2)
{
this.cantidadParticipantesSprite.x = 413 +513;
this.cantidadParticipantesSprite.y = 486;
}
if(this.jugadores == 3)
{
this.cantidadParticipantesSprite.x = 413 +913;
this.cantidadParticipantesSprite.y = 486;
}
if(this.jugadores == 4)
{
this.cantidadParticipantesSprite.x = 413 +1263;
this.cantidadParticipantesSprite.y = 486;
}
if(this.music == 0)
{

this.musicapartidaSprite.x = 413 +413/4;
this.musicapartidaSprite.y = 606;
}

if(this.music == 1)
{
this.musicapartidaSprite.x = 1213 +413/4;
this.musicapartidaSprite.y = 606;
}
if(this.seleccionInt ==0)
{

this.seleccionadoSprite.x = 413 +413/4;
this.seleccionadoSprite.y = 336;

}    

if(this.seleccionInt ==3)
{

this.seleccionadoSprite.x = 413 +413/4;
this.seleccionadoSprite.y = 486;

}
if(this.seleccionInt ==4)
{

this.seleccionadoSprite.x = 413 +513;
this.seleccionadoSprite.y = 486;

}    
if(this.seleccionInt ==5)
{

this.seleccionadoSprite.x = 413 +913;
this.seleccionadoSprite.y = 486;

}    


if(this.seleccionInt ==16)
{

this.seleccionadoSprite.x = 413 +1263;
this.seleccionadoSprite.y = 486;

}

if(this.seleccionInt ==1)
{

this.seleccionadoSprite.x = 413 +513;
this.seleccionadoSprite.y = 336;

}  
if(this.seleccionInt ==2)
{

this.seleccionadoSprite.x = 413 +913;
this.seleccionadoSprite.y = 336;

}     

if(this.seleccionInt ==6)
{

this.seleccionadoSprite.x = 413 +413/4;
this.seleccionadoSprite.y = 606;

}

if(this.seleccionInt ==7)
{

this.seleccionadoSprite.x = 1213 +413/4;
this.seleccionadoSprite.y = 606;

}


if(this.seleccionInt ==8)
{

this.seleccionadoSprite.x = 913 +413/4;
this.seleccionadoSprite.y = 1020;

}

if(this.seleccionInt ==8)
{

this.seleccionadoSprite.x = 913 +413/4;
this.seleccionadoSprite.y = 1020;

}
if(this.seleccionInt ==9)
{

this.seleccionadoSprite2.x = 50 +413/4;
this.seleccionadoSprite2.y = 50;

}
if(this.seleccionInt ==10)
{

this.seleccionadoSprite2.x = 1550 +413/4;
this.seleccionadoSprite2.y = 820;

}

}

}


  var SCREEN_WIDTH = 1920;
var SCREEN_HEIGHT = 1080;
var config = {
    type: Phaser.arcade,
    width: 1920,
    height: 1080,
     pixelArt: true,
      scene: [ SceneB, Scene1 ],
   physics: {
        default: 'arcade',
        arcade: {
            debug: false
        }
    },
   
};

var game = new Phaser.Game(config);

    </script>

 
</body>
</html>